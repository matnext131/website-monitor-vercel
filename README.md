# Website Monitor - Vercel Edition

お気に入りサイトの更新状況を監視するダッシュボードアプリケーション

## 🌟 機能

- **サイト一覧表示** - 名前・URL・最終チェック時刻・ステータス
- **URL追加/削除** - 簡単な管理画面
- **15分間隔自動監視** - Vercel Cron Jobsによる定期チェック
- **色付きステータスバッジ** - 🟢新規更新 / ⚪️未更新 / 🔴エラー / ⏳待機中
- **手動チェック機能** - いつでも即座にチェック可能
- **レスポンシブデザイン** - スマホ・タブレット対応

## 🚀 技術スタック

- **フロントエンド**: Next.js 14 + React 18 + TypeScript + Tailwind CSS
- **バックエンド**: Vercel Serverless Functions
- **データベース**: Neon PostgreSQL（無料）
- **定期処理**: Vercel Cron Jobs（15分間隔）
- **デプロイ**: Vercel

## 📦 デプロイ手順

### 1. Neonデータベース設定
1. [Neon](https://neon.tech)でアカウント作成
2. 新プロジェクト作成（PostgreSQL 17、シンガポールリージョン推奨）
3. `DATABASE_URL`を取得

### 2. Vercelデプロイ
1. GitHubにプッシュ
2. [Vercel](https://vercel.com)でプロジェクトをインポート
3. 環境変数を設定：
   - `DATABASE_URL`: Neonから取得した接続文字列

### 3. 動作確認
- サイト追加/削除機能
- 手動チェック機能
- 15分後に自動監視開始

## 🔧 ローカル開発

```bash
# 依存関係インストール
npm install

# 環境変数設定
cp .env.example .env.local
# .env.localにDATABASE_URLを設定

# 開発サーバー起動
npm run dev
```

## 📈 監視の仕組み

1. **コンテンツハッシュ比較** - ページ全体のSHA256ハッシュを計算
2. **変更検知** - 前回のハッシュと比較して更新を判定
3. **エラーハンドリング** - タイムアウト・接続エラー等を適切に処理
4. **自動復旧** - 一時的なエラーから自動回復

## 🌐 アクセス

- **本番環境**: https://your-project.vercel.app
- **ローカル**: http://localhost:3000

## 📱 モバイル対応

完全レスポンシブデザインで、スマートフォンやタブレットからも快適に利用できます。

## 🔒 セキュリティ

- **HTTPS強制** - Vercelにより自動適用
- **環境変数保護** - データベース認証情報は暗号化保存
- **CORS設定** - 適切なオリジン制限

## 📊 制限事項

- **無料プラン制限**:
  - Neon: 3GB、10万行まで
  - Vercel: 月100GB転送量まで
- **監視間隔**: 15分（Vercel Cron Jobsの制限）
- **同時監視**: 実用的な範囲（~50サイト推奨）

## 🛠️ カスタマイズ

- **監視間隔変更**: `vercel.json`のcronスケジュール修正
- **デザイン変更**: Tailwind CSSクラス修正
- **通知機能追加**: Webhook等で外部連携可能

## ❓ トラブルシューティング

### よくある問題
1. **データベース接続エラー**: DATABASE_URLを確認
2. **Cron Job未実行**: Vercel Proプラン必要（無料でも制限付き実行）
3. **タイムアウトエラー**: 対象サイトの応答速度確認

## 📝 ライセンス

MIT License

---

🎉 **完全無料で使える本格的なWebサイト監視ツール**です！